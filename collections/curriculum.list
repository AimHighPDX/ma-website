{.var @id collection.id}

<section id="{@id}-curriculum">
   {.repeated section collection.categories}
      <div id="{@id}-curriculum" data-js="tabpanel" data-title="{@}">
         <h3>{@}</h3>
         <p>Find gear requirements and more on the <a href="">{@} program page.</a></p>
         <div>
            <squarespace:block-field id="{@id}-{@index}-summary" label="{@} Summary" columns="1"/>
         </div>
      </div>
   {.end}


   {.repeated section items}
      <button type="button" class="disclosure heading-level4" aria-controls="{item.id}-videos-wrapper" aria-expanded="false">
         <span>{title}</span>
      </button>
      <div id="{item.id}-wrapper">
         {.equal? customContent.customType "curriculum"}
            <div id="{item.id}-curriculum">
               {body}
            </div>
            <script>
               let items = document.getElementById("{item.id}-curriculum").getElementsByTagName("li");
               for (let item of items) {
                  let data = item.querySelector("data");
                  item.className = "curriculum-item";
                  item.style.backgroundImage = data.value;
                  data.remove();
               }
            </script>
         {.or}
            {body}
         {.end}
      </div>
   {.end}
</section>

<ul>
   {.repeated section items}
      <li>
         <a href="{sourceUrl}">{title}</a>
      </li>
   {.end}
</ul>